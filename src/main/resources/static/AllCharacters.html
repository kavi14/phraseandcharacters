<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>All Phrases Search</title>
  <!-- MDB icon -->
  <link rel="icon" href="img/mdb-favicon.ico" type="image/x-icon">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
  <!-- Google Fonts Roboto -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <!-- Material Design Bootstrap -->
  <link rel="stylesheet" href="css/mdb.min.css">
  <!-- Your custom styles (optional) -->
  <link rel="stylesheet" href="css/style.css">
  <!-- MDBootstrap Datatables  -->
  <link href="css/addons/datatables.min.css" rel="stylesheet">
</head>
<body>

  <!-- Start your project here-->
  <table id="allCharacetersTable" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
    <thead>
    <tr>
      <th class="th-sm">First Name</th>
      <th class="th-sm">Last Name</th>
      <th class="th-sm">Age</th>
    </tr>
    </thead>
    <tbody id="allCharacterList"></tbody>
    <tfoot>
    <a href="home.html" style="align-content: center">Click here to goto home page</a>
    </tfoot>
  </table>

  <!-- End your project here-->

  <!-- jQuery -->
  <script type="text/javascript" src="js/jquery.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript" src="js/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="js/mdb.min.js"></script>
  <!-- Your custom scripts (optional) -->
  <script type="text/javascript"></script>
  <!-- MDBootstrap Datatables  -->
  <script type="text/javascript" src="js/addons/datatables.min.js"></script>
  <script>

    // Basic example
    $(document).ready(function () {
      var table = $('#allCharacetersTable').DataTable({
        "pagingType": "full_numbers" // "simple" option for 'Previous' and 'Next' buttons only
      });
      $('.dataTables_length').addClass('bs-select');
      table.draw(false);
    });

      $.ajax({
        url: 'http://localhost:8083/api/v1/characters/allCharacters',
        type: 'get',
        dataType: 'json',
        success: function (result) {
          console.log(result);
          let daftar = result;
          var html = '';
          $.each(daftar, function (i, data) {
            console.log(data._id);
            html += `<tr>
                                        <td> ` + data.firstName + `</td>
                                        <td>` + data.lastName + `</td>
                                        <td>` + data.age + `</td>
                                        <br></td>
                                    </tr>`;

            //This is selector of my <tbody> in my table
            $("#allCharacterList").html(html);
          });
        }
      });

  </script>
</body>
</html>
